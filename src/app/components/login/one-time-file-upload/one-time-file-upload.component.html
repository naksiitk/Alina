<!-- <div>
    <mat-toolbar color="primary">
      <button
        type="button"
        aria-label="Toggle sidenav"
        mat-icon-button>
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>
      <div class="example-spacer" style="text-align: right;">
      <span > </span>
    </div>
    </mat-toolbar>
  </div> -->

  <div class="full-page">
    <table style="   width: 1000px; text-align: center;">
        <tr>
            <td><img class = "image-responsive" src="../../../../assets/Images/alinalogo.png" alt="Alina Logo"></td>
       </tr> 
        <tr ><td >
            <mat-card   class="login-card" class="mat-elevation-z0">
                <mat-card-header>
                    <mat-card-title style="font-size:100%">Upload to Arasuaudit sever (One-time)</mat-card-title>
                </mat-card-header>
                <mat-stepper  orientation="vertical"  [linear]="true" #stepper>
                    <mat-step [stepControl]="signup_form">
                    
                        <ng-template matStepLabel>Step 1</ng-template>
                        <ng-template matStepContent>
                            <form [formGroup] = "signup_form">
                            <h2 style="font-size:100%; text-align: left;"> Fill your Details</h2>
                            <mat-form-field style="height: 7vh; margin-bottom: 2% !important;" appearance="outline">
                                <mat-label>Email ID</mat-label>
                                <input  formControlName="email" matInput placeholder="kamala@gmail.com">
                                <mat-icon matSuffix>mail</mat-icon>
                            </mat-form-field>
                            <mat-form-field style="height: 7vh;margin-bottom: 2% !important;" appearance="outline">
                                <mat-label>Phone Number</mat-label>
                                <input formControlName="mobile" matInput placeholder="1234567890">
                                <mat-icon matSuffix>phone</mat-icon>
                            </mat-form-field>
                            <mat-form-field style="height: 7vh; margin-bottom: 2% !important;" appearance="outline">
                                <mat-label>Name</mat-label>
                                <input formControlName="user_name" matInput placeholder="kamala">
                                <mat-icon matSuffix>name</mat-icon>
                            </mat-form-field>
                            <mat-form-field style="height: 7vh; margin-bottom: 2% !important;" appearance="outline">
                                <mat-label>PAN</mat-label>
                                <input  matInput formControlName="PAN" placeholder="AKMPK5944M">
                                <mat-icon matSuffix>name</mat-icon>
                            </mat-form-field>
                            <button mat-button (click)="Otp_generation()">Next</button>
                            </form>
                        </ng-template>
                    </mat-step>
                    
                    <mat-step [stepControl]="otp_form">
                        <ng-template matStepLabel>Step 3</ng-template>
                        <ng-template matStepContent>
                            <form [formGroup] = "otp_form">
                                <h2> Enter OTP</h2>
                                <p>Enter Otp from the mail</p>
                                <mat-form-field appearance="outline">
                                <input matInput formControlName="otp_mail" [type]="hide ? 'password' : 'text'">
                                
                            </mat-form-field>
                                <br>
                                
                            </form>
                                <br>
                            <button mat-button (click)="Otp_verification()">Next</button>
                        </ng-template>
                    </mat-step>

                    <mat-step  [stepControl]="file_list">
                        <ng-template  matStepLabel>Step 2</ng-template>
                        <ng-template  matStepContent>
                            <form [formGroup] = "file_list">
                                <mat-form-field appearance="outline" >
                                    <mat-label>Purpose</mat-label>
                                    <mat-select formControlName="purpose" placeholder="Purpose of uploading">
                                        <mat-option value="GST">GST</mat-option>
                                        <mat-option value="ITR">Income Tax Returns</mat-option>
                                        <mat-option value="TDS"> Tds/Tcs</mat-option>
                                    </mat-select>
                                </mat-form-field>
                        
                                <mat-form-field appearance="outline" >
                                    <mat-label>Name of the file</mat-label>
                                    <input formControlName="filename" matInput placeholder="Provide File Name">
                                  </mat-form-field>
                        
                                <mat-form-field *ngIf="!(file_list.value.purpose == 'TDS' || file_list.value.purpose == 'GST')" appearance="outline" >
                                    <mat-label>Financial Year</mat-label>
                                    <mat-select formControlName="fy" placeholder="F.Y">
                                        <mat-option *ngFor="let year of years" [value]="year">{{ year }} </mat-option>
                                    </mat-select>
                                </mat-form-field>
                        
                                <mat-form-field *ngIf="file_list.value.purpose == 'TDS' || file_list.value.purpose == 'GST'" appearance="outline" style="margin-top: 1%; width: 56%; margin-right: 1%;">
                                    <mat-label>Financial Year</mat-label>
                                    <mat-select formControlName="fy" placeholder="F.Y"> <!-- formControlName="purpose" placeholder="Purpose of uploading"> -->
                                        <mat-option *ngFor="let year of years" [value]="year">{{ year }} </mat-option>
                                    </mat-select>
                                </mat-form-field>
                        
                                <mat-form-field *ngIf="file_list.value.purpose == 'TDS' " appearance="outline" style="width: 40%;">
                                    <mat-label>Quarter</mat-label>
                                    <mat-select formControlName="month_quarter" placeholder="Quarter"> <!-- formControlName="purpose" placeholder="Purpose of uploading"> -->
                                        <mat-option value="Q1">Q1</mat-option>
                                        <mat-option value="Q2">Q2</mat-option>
                                        <mat-option value="Q3">Q3</mat-option>
                                        <mat-option value="Q4">Q4</mat-option>
                                    </mat-select>
                                </mat-form-field>
                        
                                <mat-form-field *ngIf="file_list.value.purpose == 'GST' " appearance="outline" style=" width: 40%;">
                                    <mat-label>Month</mat-label>
                                    <mat-select formControlName="month_quarter" placeholder="Month"> <!-- formControlName="purpose" placeholder="Purpose of uploading"> -->
                                        <mat-option value="Apr">Apr</mat-option>
                                        <mat-option value="Jun">Jun</mat-option>
                                        <mat-option value="Jul">Jul</mat-option>
                                        <mat-option value="Aug">Aug</mat-option>
                                        <mat-option value="Sep">Sep</mat-option>
                                        <mat-option value="Oct">Oct</mat-option>
                                        <mat-option value="Nov">Nov</mat-option>
                                        <mat-option value="Dec">Dec</mat-option>
                                        <mat-option value="Jan">Jan</mat-option>
                                        <mat-option value="Feb">Feb</mat-option>
                                        <mat-option value="Mar">Mar</mat-option>
                                    </mat-select>
                                </mat-form-field>        
                                  
                                <mat-form-field appearance="outline" >
                                    <mat-label>Comments</mat-label>
                                    <textarea formControlName="comments" matInput placeholder="Comment about the file"></textarea>
                                </mat-form-field>
                                <input type="file" class="file-input" (change)="upload($event)" multiple #fileUpload>
                                <div mat-dialog-action [align]="'center'" class="file-upload" style="margin-bottom: 0%;">
                                    <!-- {{fileName || "No file uploaded yet."}} -->
                                    <button mat-mini-fab color="primary" class="upload-btn"
                                    (click)="fileUpload.click()">
                                        <mat-icon>attach_file</mat-icon>
                                    </button>
                                </div>
                        
                                <table mat-table [dataSource]="dataSource" matSort>
                                    <ng-container matColumnDef="files_uploaded">
                                        <th mat-header-cell *matHeaderCellDef> </th>
                                    <td mat-cell *matCellDef="let row"> 
                                        {{row.files_uploaded.slice(0,30)}}
                                    </td>
                                    </ng-container>
                                
                                    <!-- <ng-container  matColumnDef="Action">
                                    <th mat-header-cell *matHeaderCellDef> </th>
                                    <td mat-cell *matCellDef="let row"> 
                                        <button [disabled]="row.lock" mat-button color="warn"><mat-icon>delete</mat-icon></button> 
                                    </td>     
                                    </ng-container> -->
                                
                                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                
                                </table>
                           
                                <!-- <button mat-raised-button color="warn" style="margin-right: 4%; width: 45%;" (click) = "AddProduct()">{{actionBtn}}</button> -->
                               
                                
                            </form>
                            <br>
                            <button mat-raised-button color="warn" (click) = "AddProduct()">{{actionBtn}}</button> 
                        </ng-template>
                    </mat-step>
                    <mat-step>
                        <ng-template matStepLabel>Step 4</ng-template>
                        <ng-template matStepContent>
                        <h1> File has been stored successfully</h1>
                        <p> Next time, Use Login to add the file</p>
                    </ng-template>
                    </mat-step>
                </mat-stepper>
                <span style="text-align: end; margin-right: 2%; margin-top: 2%;"> Already user?  <a [routerLink]="['/login']"> Sign In here </a></span>
            </mat-card>
        </td></tr>
           
    </table>
    
</div>     

